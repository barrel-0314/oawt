# Online Aggregation over Web Tables
This repository contains dataset and code for the OAWT model, an online aggregation model over web tables. OAWT is composed of two parts: quantity column annotation for aggregate query and online query processing.

## Benchmark
We use six table benchmarks for online aggregation experiments:
- SemTab: We ultilize the Tough Tables from [SemTab] (http://www.cs.ox.ac.uk/isg/challenges/sem-tab/2021/), which contains 180 noisy tables.
- T2D: T2D is composed of 233 tables, which is extracted from the file "tables_instance.tar.gz" from [T2D] (http://webdatacommons.org/webtables/goldstandard.html).
- WIKI: WIKI tables contians 428 tables from the Web Manual Dataset [WIKI] (http://websail-fe.cs.northwestern.edu/TabEL/).
- T2DCï¼šT2DC is an extended table corpus version of T2D. It consists of 1720 tables that is obtained from "tables_complete.tar.gz" from [T2DC] (http://webdatacommons.org/webtables/goldstandard.html).
- TUS: We used 5044 tables from the file "Large-benchmaek.sqlite" [TUS] (https://github.com/RJMillerLab/table-union-search-benchmark).
- TGPT: TGPT refers to the training tables for table question task that is generated by [TGPT] (https://github.com/microsoft/table-gpt).
## Quantity column annotation for aggregate query
### Graph-based Quantity Attributes Pruning
This part aims to prune the quantity attribute candidates for quantity columns with the reference of knowledge graph and pre-trained language models. In this paper, we use the subset of DBpedia 2016 and read the information from knowledge graph by a simple index. The related knowledge graph and the constructed index are as the same as (https://github.com/barrel-0314/daco).
```python
python quantity_column_type_identification_main.py
```
### Graph Clustering-based Annotation Verification
```python
python refine_qtype.py
```
## ONLINE QUERY PROCESSING
```python
python AQ_main.py
```
